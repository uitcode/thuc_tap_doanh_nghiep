<section id="app-login">
  <div class="bg-auth flex items-center justify-center" [style.minHeight.px]="innerHeight">
    <div class="login mx-4 h-fit bg-white shadow rounded">
      <div class="logo h-20 bg-warmGray-100 flex items-center justify-center">
        <a class="flex h-14 px-2" [routerLink]="['/']">
          <div class="w-14 flex items-center justify-center">
            <img [src]="logo" class="w-12" />
          </div>
          <div class="h-full flex flex-grow w-48 items-center toggle">
            <div class="flex-grow flex w-0 uppercase">
              <span class="text-warmGray-800 text-lg">Kết Nối </span>
              <div class="icon-connect flex flex-col text mx-1">
                <i nz-icon nzType="swap-left" nzTheme="outline" class="swap-left"></i>
                <i
                  nz-icon
                  nzType="swap-right"
                  nzTheme="outline"
                  class="-scale-y-1 -mt-1.75 swap-right"
                ></i>
              </div>
              <span class="text-red-600 text-lg font-semibold">Xây Dựng</span>
            </div>
          </div>
        </a>
      </div>
      <form nz-form [formGroup]="loginForm" class="w-full p-5">
        <!---- email/username ----->
        <div class="block">
          <nz-form-label nzRequired>Email/Username</nz-form-label>
          <nz-form-item>
            <nz-form-control nzErrorTip="Vui lòng nhập email/username">
              <input
                formControlName="credential"
                nz-input
                placeholder="Nhập email/username đăng nhập"
              />
            </nz-form-control>
          </nz-form-item>
        </div>

        <!---- password ----->
        <div class="block password">
          <nz-form-label nzRequired>Mật khẩu</nz-form-label>
          <nz-form-item>
            <nz-form-control nzErrorTip="Vui lòng nhập mật khẩu">
              <nz-input-group [nzSuffix]="suffixTemplate">
                <input
                  [type]="passwordVisible ? 'text' : 'password'"
                  nz-input
                  placeholder="Nhập mật khẩu"
                  formControlName="password"
                />
              </nz-input-group>
              <ng-template #suffixTemplate>
                <i
                  nz-icon
                  [nzType]="passwordVisible ? 'eye-invisible' : 'eye'"
                  (click)="passwordVisible = !passwordVisible"
                ></i>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div class="flex">
          <label
            nz-checkbox
            [(ngModel)]="forgot"
            [ngModelOptions]="{ standalone: true }"
            class="w-fit"
            >nhớ mật khẩu</label
          >
          <div class="flex-grow w-0 text-right">
            <a [routerLink]="['/forgot-password']" class="text-primary hover:text-red-700"
              >Quên mật khẩu?</a
            >
          </div>
        </div>

        <button
          nz-button
          nzType="primary"
          class="w-full my-3"
          nzSize="large"
          (click)="login()"
          [class]="isLoading ? 'opacity-50 cursor-not-allowed' : ''"
        >
          <p class="flex items-center justify-center">
            <app-loading *ngIf="isLoading" [color]="'#FFFFFF'" class="mr-3"></app-loading>
            Đăng nhập
          </p>
        </button>
        <a [routerLink]="['/register']" class="text-primary hover:text-red-700"
          >Đăng ký mới tài khoản!</a
        >
      </form>
    </div>
  </div>
</section>
